P253-273 クラスを作る

chap_06_05.py を新規作成して、以下のコードを書いて実行してください

（コード以外の答えはコメントアウトで記述して下さい）

> 正直いって、このあたりの教科書の説明はあまりよいとは言い難いものがありまして、何いってんの？となることのほうがおおいと思います。なので補助教材をつくりました。

# クラス

多くの人がテンプレートが大好きです。テンプレートがあると悩まずにすむからです。

たとえば、就職活動中に使う履歴書。履歴書はコンビニなどにも売ってあるのでそれを買って埋めれば事足ります。では職務経歴書はどうでしょう？職務経歴書はだいたいフリースタイルで、何書けばいいの？と困ったことがあるのではないでしょうか？

クラスはまさにテンプレートです。
最初から揃えておくべきデータの雛形と、そのデータを使って演算するためのメソッドをひとまとめにして定義する方法が python の class です。

「クラスは設計図」と言われる所以はここにあります。
一旦作ってしまえば、コンビニで売ってある履歴書のように、ドンドン印刷することができ、求職者はそれに自分のデータを書き込んで面接に行けば、面接官も知りたい情報をすぐにわかる仕組みが整います。

さっそくクラスを書いていきましょう。クラスは、

+ 初期値（データ）と
+ クラスメソッド（演算）

の２つで構成されています

## 初期値

履歴書クラス、 `Resume クラス` を作ってみましょう。

python でクラスを書く時にいくつか守らなくてはいけないルールがあります。

### ① クラス名と、クラスメソッド __init__ を必ず定義。

```python
class クラス名:
    def __init__(self, data1, data2, ...):
        self.data1 = data1
        self.data2 = data2
        :
        :
        :
```
+ お行儀としてクラス名は**大文字**で始める
+ ユーザーがクラスに渡すデータは __init__ (self, ) に続けて引き取るように記述
+ 引き取ったデータを、`self.data1 = data1` のように、**self のアトリビュートとして登録**

**問題**
1. 履歴書を書くときに必ず書く項目を、年齢以外で5個英語で挙げてください
1. Resume クラスに上記5個のデータを初期値として引き取るように以下の続きを書いてください
    ```python
    class Resume: # クラス名は大文字で始める
        def __init__(self, name, ): # name 以外のデータを書き加えてください
            self.name = name 
                :
                :
                :
    ``` 

### ② クラスをインスタンス化する
クラスをインスタンス化する、というのは雛形を実態化することです。つまり履歴書の雛形を印刷すること、と同じです。クラスをインスタンス化するには、クラスを関数のように呼び出します。この時同時に、初期値として5個のデータを渡します。**ただし、`self` は書く必要はありません。**

```python
resume1 = Resume("shinseitaro", "data2", "data3",...) 
```
いったんインスタンス化すると、__init__で `self.` に保存した変数名でデータを参照することができます。
```python
resume1.name
# >>> shinseitaro
```

**問題**
1. 初期値を渡した resume1 を作ってください
1. ５個のデータをすべて参照してプリントしてください
1. resume2 インスタンスを作って同様に参照プリントしてください。

## クラスメソッド
紙の履歴書の場合は、データを書き込んでもらう以上のことはできませんが、履歴書アプリケーションであれば、データから演算することができます。例えば、西暦を含めた誕生日を書いて貰えば現在の年齢を算出できますし、現住所を書いてもらえば会社までの距離と主な交通手段、交通費もすぐ計算できます。

このように、クラスで引き取ったデータを使って、計算したいことをクラス内に定義した関数のことをクラスメソッドと呼びます。

クラスメソッドを書く時も必ず守らなくては行けないルールがあります。

### ③ 第一引数は self 

```python
class Resume:
    def __init__(self, name, birthday, ...):
        self.name = name
        self.birthday = birthday
        :
    
    def age(self): # 第一引数は self 
        pass 

```
クラスをインスタンス化してデータを参照する時に気がついたかもしれませんが、
```python
resume1.name
# >>> shinseitaro
```
この形は
```python
    def __init__(self, name, birthday, ...):
            self.name = name ## ここ！
```
`self.name` と全く同じです。つまりクラスメソッドを定義する時の第一引数は、**インスタンス化した時の自分自身(self)を表します**。


### ④ クラスメソッド内のデータは `self.` で取得

```python
from datetime import date 

class Resume:
    def __init__(self, name, birthday, ...):
        self.name = name
        self.birthday = birthday
        :
    
    def age(self): 
        # pythonの標準クラス datetime の中に定義してある today() メソッド
        today = date.today()
        # self.が保持しているデータを使う。 
        days = (today - self.birthday).days # 日数を数値で取得
        years = round(days / 365) # 365で割って年数を出す
        return years
        
```
クラスメソッドは第一引数にselfを持っておくことで、インスタンス化した時にselfに保存したデータを、__init__ 以外のメソッドでも引き継いで使えるようになります。
使う時は `self.` でアクセスします。

**問題**
1. メールアドレスが記入してあるかどうかを確認するクラスメソッドを定義してください。先ほどの５個の初期値にメールアドレスが入っていない場合は入れてから定義してください。
1. 直角三角形を作るクラス `RightTriangle` を 作ってください。以下の初期値とクラスメソッドを持たせてください。
    + 初期値
        + 底辺
        + 高さ
        + 名前
        + 色
    + クラスメソッド
        + 面積
        + 斜面の辺の長さ
        + 3つの角度





















